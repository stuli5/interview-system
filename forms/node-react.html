<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview - React & Node.js Engineer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBiv8l8NO4nGFWyjhQe5WzXLxv58H03lHs",
            authDomain: "interview-system-4cbf9.firebaseapp.com",
            projectId: "interview-system-4cbf9",
            storageBucket: "interview-system-4cbf9.firebasestorage.app",
            messagingSenderId: "805986631869",
            appId: "1:805986631869:web:574b1c6732eefad64eb7d4",
            measurementId: "G-5T1PJE27FE"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        window.firestoreDb = db;
        console.log('âœ… Firebase inicializovanÃ½');
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #61DAFB 0%, #21759B 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.2em; opacity: 0.9; }
        .candidate-info {
            background: #f8f9fa;
            padding: 30px;
            margin: 30px;
            border-radius: 15px;
            border-left: 5px solid #61DAFB;
        }
        .candidate-info h2 { color: #61DAFB; margin-bottom: 20px; font-size: 1.5em; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group.full-width { grid-column: 1 / -1; }
        .form-group label { font-weight: 600; margin-bottom: 8px; color: #333; font-size: 1.05em; }
        .form-group input, .form-group select {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #61DAFB;
            box-shadow: 0 0 0 3px rgba(97, 218, 251, 0.1);
        }
        .content { padding: 40px; }
        .question-block {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #61DAFB;
            transition: all 0.3s ease;
        }
        .question-block:hover { box-shadow: 0 5px 20px rgba(0,0,0,0.1); transform: translateY(-2px); }
        .question-block.easy { border-left-color: #4caf50; }
        .question-block.medium { border-left-color: #ff9800; }
        .question-block.hard { border-left-color: #f44336; }
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .question-number {
            background: #61DAFB;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }
        .difficulty-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            text-transform: uppercase;
        }
        .difficulty-badge.easy { background: #e8f5e9; color: #2e7d32; }
        .difficulty-badge.medium { background: #fff3e0; color: #e65100; }
        .difficulty-badge.hard { background: #ffebee; color: #c62828; }
        .question-score {
            background: #e3f2fd;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: #1976d2;
            font-size: 1.1em;
        }
        .question-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            margin: 15px 0;
            line-height: 1.5;
        }
        .answers { margin-top: 20px; }
        .answer-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .answer-item:hover { border-color: #61DAFB; background: #f0f9ff; }
        .answer-item.checked { border-color: #61DAFB; background: #e0f7ff; }
        .answer-item label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            user-select: none;
        }
        .answer-item input[type="checkbox"] {
            margin-right: 15px;
            margin-top: 3px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #61DAFB;
        }
        .answer-text { flex: 1; font-size: 1.05em; line-height: 1.6; color: #555; }
        .final-score {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-top: 40px;
            position: sticky;
            top: 20px;
        }
        .final-score h2 { font-size: 2em; margin-bottom: 20px; }
        .score-display {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .score-breakdown {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        .score-category { background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 10px; }
        .score-category-label { font-size: 0.9em; opacity: 0.9; margin-bottom: 5px; }
        .score-category-value { font-size: 1.8em; font-weight: bold; }
        .score-message { font-size: 1.3em; margin-top: 15px; opacity: 0.95; }
        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(255,255,255,0.3);
            border-radius: 15px;
            overflow: hidden;
            margin-top: 20px;
        }
        .progress-fill {
            height: 100%;
            background: white;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #11998e;
        }
        .reset-button {
            background: white;
            color: #11998e;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        .reset-button:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .report-output {
            background: linear-gradient(135deg, #61DAFB 0%, #21759B 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-top: 30px;
        }
        .report-output h2 { font-size: 2em; margin-bottom: 25px; text-align: center; }
        .report-content {
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 30px;
            border-radius: 10px;
            font-size: 1.1em;
            line-height: 1.8;
            white-space: pre-line;
            font-family: 'Courier New', monospace;
        }
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8em; }
            .question-title { font-size: 1.1em; }
            .score-display { font-size: 3em; }
            .question-header { flex-direction: column; align-items: flex-start; }
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš›ï¸ React & Node.js Interview</h1>
            <p>Full Stack Developer - React & Node.js</p>
        </div>
        <div class="candidate-info">
            <h2>ğŸ‘¤ InformÃ¡cie o kandidÃ¡tovi</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">Meno *</label>
                    <input type="text" id="firstName" placeholder="Zadajte vaÅ¡e meno" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Priezvisko *</label>
                    <input type="text" id="lastName" placeholder="Zadajte vaÅ¡e priezvisko" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="experience">PracovnÃ© skÃºsenosti (roky) *</label>
                    <select id="experience" required>
                        <option value="">Vyberte ÃºroveÅˆ skÃºsenostÃ­</option>
                        <option value="0-1">0-1 rok (Junior)</option>
                        <option value="1-3">1-3 roky (Junior/Medior)</option>
                        <option value="3-5">3-5 rokov (Medior)</option>
                        <option value="5-8">5-8 rokov (Senior)</option>
                        <option value="8+">8+ rokov (Senior+)</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="question-block easy" id="q1">
                <div class="question-header">
                    <div class="question-number">1</div>
                    <div class="difficulty-badge easy">ğŸŸ¢ Ä½ahkÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 4 body</div>
                </div>
                <div class="question-title">What is the difference between controlled and uncontrolled components in React?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="1" data-difficulty="easy">
                            <span class="answer-text"><strong>Controlled:</strong> Form data is handled by React component state, value controlled by React via props and onChange handlers</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="1" data-difficulty="easy">
                            <span class="answer-text"><strong>Uncontrolled:</strong> Form data is handled by DOM itself, accessed via refs, React doesn't control the value</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="1" data-difficulty="easy">
                            <span class="answer-text"><strong>Benefits of controlled:</strong> Single source of truth, easier validation, easier to modify/format input, better for complex forms</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="1" data-difficulty="easy">
                            <span class="answer-text"><strong>When to use uncontrolled:</strong> Simple forms, file inputs, integration with non-React code, performance optimization for large forms</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block medium" id="q2">
                <div class="question-header">
                    <div class="question-number">2</div>
                    <div class="difficulty-badge medium">ğŸŸ¡ StrednÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 5 bodov</div>
                </div>
                <div class="question-title">Explain the useEffect hook and its cleanup function. When does cleanup run?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="2" data-difficulty="medium">
                            <span class="answer-text"><strong>Purpose:</strong> Performs side effects in functional components (data fetching, subscriptions, DOM manipulation, timers)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="2" data-difficulty="medium">
                            <span class="answer-text"><strong>Cleanup function:</strong> Returned from useEffect, used to clean up resources (unsubscribe, cancel requests, clear timers)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="2" data-difficulty="medium">
                            <span class="answer-text"><strong>When cleanup runs:</strong> Before component unmounts AND before re-running effect (when dependencies change)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="2" data-difficulty="medium">
                            <span class="answer-text"><strong>Dependency array:</strong> Empty [] runs once on mount, no array runs every render, [deps] runs when deps change</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="2" data-difficulty="medium">
                            <span class="answer-text"><strong>Common cleanup examples:</strong> clearInterval, removeEventListener, abort fetch requests, unsubscribe from observables</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block hard" id="q3">
                <div class="question-header">
                    <div class="question-number">3</div>
                    <div class="difficulty-badge hard">ğŸ”´ Å¤aÅ¾kÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 6 bodov</div>
                </div>
                <div class="question-title">What is the Virtual DOM and how does React's reconciliation algorithm work?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Virtual DOM:</strong> Lightweight JavaScript representation of actual DOM, kept in memory, allows React to batch updates efficiently</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Reconciliation process:</strong> Compares new Virtual DOM with previous one (diffing), determines minimal set of changes needed</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Diffing algorithm:</strong> Compares trees level by level, uses keys to identify elements, assumes different component types produce different trees</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Keys importance:</strong> Helps React identify which items changed/added/removed, improves performance, should be stable and unique</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Fiber architecture:</strong> React 16+ uses Fiber for incremental rendering, can pause/resume work, prioritize updates</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="3" data-difficulty="hard">
                            <span class="answer-text"><strong>Performance benefits:</strong> Minimizes DOM operations (expensive), batches updates, enables efficient re-rendering of large UIs</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block medium" id="q4">
                <div class="question-header">
                    <div class="question-number">4</div>
                    <div class="difficulty-badge medium">ğŸŸ¡ StrednÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 5 bodov</div>
                </div>
                <div class="question-title">What is the event loop in Node.js and how does it work?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="4" data-difficulty="medium">
                            <span class="answer-text"><strong>Purpose:</strong> Enables non-blocking I/O despite JavaScript being single-threaded, handles async operations efficiently</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="4" data-difficulty="medium">
                            <span class="answer-text"><strong>Phases:</strong> Timers, pending callbacks, idle/prepare, poll, check, close callbacks - executes in order</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="4" data-difficulty="medium">
                            <span class="answer-text"><strong>Poll phase:</strong> Most important, retrieves new I/O events, executes I/O callbacks (except close, timers, setImmediate)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="4" data-difficulty="medium">
                            <span class="answer-text"><strong>setImmediate vs setTimeout:</strong> setImmediate runs in check phase, setTimeout in timers, setImmediate executes after I/O</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="4" data-difficulty="medium">
                            <span class="answer-text"><strong>Microtasks:</strong> process.nextTick and Promise callbacks run between phases, nextTick has highest priority</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block easy" id="q5">
                <div class="question-header">
                    <div class="question-number">5</div>
                    <div class="difficulty-badge easy">ğŸŸ¢ Ä½ahkÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 4 body</div>
                </div>
                <div class="question-title">What are React Hooks and why were they introduced?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="5" data-difficulty="easy">
                            <span class="answer-text"><strong>Definition:</strong> Functions that let you use state and lifecycle features in functional components without writing classes</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="5" data-difficulty="easy">
                            <span class="answer-text"><strong>Common hooks:</strong> useState (state), useEffect (side effects), useContext (context), useRef (refs), useMemo (memoization)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="5" data-difficulty="easy">
                            <span class="answer-text"><strong>Benefits:</strong> Simpler code, better code reuse with custom hooks, no 'this' confusion, easier to test and organize logic</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="5" data-difficulty="easy">
                            <span class="answer-text"><strong>Rules:</strong> Only call at top level (not in loops/conditions), only call from React functions, custom hooks start with "use"</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block medium" id="q6">
                <div class="question-header">
                    <div class="question-number">6</div>
                    <div class="difficulty-badge medium">ğŸŸ¡ StrednÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 5 bodov</div>
                </div>
                <div class="question-title">Explain middleware in Express.js. How would you implement error handling middleware?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="6" data-difficulty="medium">
                            <span class="answer-text"><strong>Definition:</strong> Functions with access to request, response, and next function, execute during request-response cycle</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="6" data-difficulty="medium">
                            <span class="answer-text"><strong>Types:</strong> Application-level, router-level, error-handling, built-in (express.json, express.static), third-party</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="6" data-difficulty="medium">
                            <span class="answer-text"><strong>Error handling middleware:</strong> Takes 4 parameters (err, req, res, next), defined after all other middleware and routes</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="6" data-difficulty="medium">
                            <span class="answer-text"><strong>Implementation:</strong> app.use((err, req, res, next) => { res.status(500).json({error: err.message}) })</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="6" data-difficulty="medium">
                            <span class="answer-text"><strong>Best practices:</strong> Centralized error handling, custom error classes, logging, different responses for dev/prod environments</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block hard" id="q7">
                <div class="question-header">
                    <div class="question-number">7</div>
                    <div class="difficulty-badge hard">ğŸ”´ Å¤aÅ¾kÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 6 bodov</div>
                </div>
                <div class="question-title">How do you optimize React application performance? Explain useMemo, useCallback, and React.memo.</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>React.memo:</strong> HOC that memoizes component, prevents re-render if props haven't changed (shallow comparison)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>useMemo:</strong> Memoizes expensive computation result, only recalculates when dependencies change, returns cached value</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>useCallback:</strong> Memoizes function itself, prevents creating new function instance, useful for passing callbacks to optimized child components</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>Other techniques:</strong> Code splitting (React.lazy), virtualization for long lists, debouncing/throttling, proper key usage</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>When to optimize:</strong> Don't premature optimize, use React DevTools Profiler, measure first, optimize slow renders and expensive calculations</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="7" data-difficulty="hard">
                            <span class="answer-text"><strong>Bundle optimization:</strong> Tree shaking, dynamic imports, analyze bundle size, remove unused dependencies, use production build</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block easy" id="q8">
                <div class="question-header">
                    <div class="question-number">8</div>
                    <div class="difficulty-badge easy">ğŸŸ¢ Ä½ahkÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 4 body</div>
                </div>
                <div class="question-title">What is the difference between REST and GraphQL APIs?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="8" data-difficulty="easy">
                            <span class="answer-text"><strong>REST:</strong> Multiple endpoints, fixed data structure, over-fetching/under-fetching common, uses HTTP methods (GET, POST, PUT, DELETE)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="8" data-difficulty="easy">
                            <span class="answer-text"><strong>GraphQL:</strong> Single endpoint, client specifies exact data needed, no over/under-fetching, strongly typed schema</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="8" data-difficulty="easy">
                            <span class="answer-text"><strong>GraphQL advantages:</strong> Flexible queries, reduces network requests, self-documenting schema, better for complex data requirements</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="8" data-difficulty="easy">
                            <span class="answer-text"><strong>REST advantages:</strong> Simpler to implement, better caching, easier debugging, more mature ecosystem, good for simple CRUD operations</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block medium" id="q9">
                <div class="question-header">
                    <div class="question-number">9</div>
                    <div class="difficulty-badge medium">ğŸŸ¡ StrednÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 5 bodov</div>
                </div>
                <div class="question-title">How do you handle authentication and authorization in a Node.js/Express application?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="9" data-difficulty="medium">
                            <span class="answer-text"><strong>JWT (JSON Web Tokens):</strong> Stateless authentication, token contains user info, signed and optionally encrypted, sent in Authorization header</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="9" data-difficulty="medium">
                            <span class="answer-text"><strong>Session-based:</strong> Server stores session data, client gets session ID in cookie, stateful, requires session store (Redis, MongoDB)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="9" data-difficulty="medium">
                            <span class="answer-text"><strong>Password security:</strong> Hash passwords with bcrypt/argon2, never store plain text, use salt, implement password strength requirements</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="9" data-difficulty="medium">
                            <span class="answer-text"><strong>Authorization middleware:</strong> Verify token, check user roles/permissions, protect routes, implement role-based access control (RBAC)</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="9" data-difficulty="medium">
                            <span class="answer-text"><strong>Best practices:</strong> HTTPS only, refresh tokens, token expiration, CORS configuration, rate limiting, secure cookie flags (httpOnly, secure)</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="question-block hard" id="q10">
                <div class="question-header">
                    <div class="question-number">10</div>
                    <div class="difficulty-badge hard">ğŸ”´ Å¤aÅ¾kÃ¡</div>
                    <div class="question-score"><span class="score-value">0</span> / 6 bodov</div>
                </div>
                <div class="question-title">Explain how you would implement real-time communication in a Node.js application. What are the differences between WebSockets, Server-Sent Events (SSE), and polling?</div>
                <div class="answers">
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>WebSockets:</strong> Full-duplex bidirectional communication, persistent connection, low latency, use Socket.io library, good for chat, gaming</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>Server-Sent Events (SSE):</strong> Unidirectional (server to client), uses HTTP, automatic reconnection, simpler than WebSockets, good for notifications/updates</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>Polling:</strong> Client repeatedly requests data, simple but inefficient, high latency, unnecessary network traffic, use only if no alternatives</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>Long polling:</strong> Client waits for server response, server holds connection until data available, better than regular polling but still inefficient</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>Implementation considerations:</strong> Scaling with multiple servers (Redis pub/sub), connection management, error handling, fallback mechanisms, authentication</span>
                        </label>
                    </div>
                    <div class="answer-item">
                        <label>
                            <input type="checkbox" data-question="10" data-difficulty="hard">
                            <span class="answer-text"><strong>When to use what:</strong> WebSockets for bidirectional real-time (chat, multiplayer), SSE for one-way updates (stock prices, news feeds), avoid polling when possible</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="final-score">
                <h2>ğŸ“Š CelkovÃ© SkÃ³re</h2>
                <div class="score-display" id="totalScore">0%</div>
                <div class="score-breakdown">
                    <div class="score-category">
                        <div class="score-category-label">ğŸŸ¢ Ä½ahkÃ©</div>
                        <div class="score-category-value"><span id="easyScore">0</span>/12</div>
                    </div>
                    <div class="score-category">
                        <div class="score-category-label">ğŸŸ¡ StrednÃ©</div>
                        <div class="score-category-value"><span id="mediumScore">0</span>/20</div>
                    </div>
                    <div class="score-category">
                        <div class="score-category-label">ğŸ”´ Å¤aÅ¾kÃ©</div>
                        <div class="score-category-value"><span id="hardScore">0</span>/18</div>
                    </div>
                </div>
                <div class="score-message" id="scoreMessage">ZaÄni zaÅ¡krtÃ¡vaÅ¥ odpovede!</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%">0%</div>
                </div>
                <button class="reset-button" onclick="generateReport()">ğŸ“„ VygenerovaÅ¥ report</button>
                <button class="reset-button" onclick="resetAll()">ğŸ”„ Reset vÅ¡etkÃ½ch odpovedÃ­</button>
            </div>
            <div id="reportSection" style="display: none;" class="report-output">
                <h2>ğŸ“‹ Interview Report - React & Node.js Engineer</h2>
                <div class="report-content" id="reportContent"></div>
                <button class="reset-button" onclick="downloadPDF()">ğŸ“¥ StiahnuÅ¥ PDF</button>
            </div>
        </div>
    </div>
    <script>
        const questionPoints = {
            1: 4, 5: 4, 8: 4,  // easy - 3 otÃ¡zky x 4 = 12
            2: 5, 4: 5, 6: 5, 9: 5,  // medium - 4 otÃ¡zky x 5 = 20
            3: 6, 7: 6, 10: 6  // hard - 3 otÃ¡zky x 6 = 18
        };
        
        const totalPoints = Object.values(questionPoints).reduce((a, b) => a + b, 0);

        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                updateQuestionScore(this);
                updateTotalScore();
                const answerItem = this.closest('.answer-item');
                if (this.checked) {
                    answerItem.classList.add('checked');
                } else {
                    answerItem.classList.remove('checked');
                }
            });
        });

        function updateQuestionScore(checkbox) {
            const questionNum = checkbox.getAttribute('data-question');
            const questionBlock = document.getElementById('q' + questionNum);
            const checkboxes = questionBlock.querySelectorAll('input[type="checkbox"]');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            const scoreDisplay = questionBlock.querySelector('.score-value');
            scoreDisplay.textContent = checkedCount;
            scoreDisplay.style.transition = 'transform 0.2s';
            scoreDisplay.style.transform = 'scale(1.3)';
            setTimeout(() => { scoreDisplay.style.transform = 'scale(1)'; }, 200);
        }

        function updateTotalScore() {
            let totalChecked = 0, easyChecked = 0, mediumChecked = 0, hardChecked = 0;
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                if (checkbox.checked) {
                    totalChecked++;
                    const difficulty = checkbox.getAttribute('data-difficulty');
                    if (difficulty === 'easy') easyChecked++;
                    else if (difficulty === 'medium') mediumChecked++;
                    else if (difficulty === 'hard') hardChecked++;
                }
            });
            const percentage = Math.round((totalChecked / totalPoints) * 100);
            document.getElementById('totalScore').textContent = percentage + '%';
            document.getElementById('easyScore').textContent = easyChecked;
            document.getElementById('mediumScore').textContent = mediumChecked;
            document.getElementById('hardScore').textContent = hardChecked;
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = percentage + '%';
            progressFill.textContent = percentage + '%';
            const scoreMessage = document.getElementById('scoreMessage');
            if (percentage === 0) scoreMessage.textContent = 'ğŸ¯ ZaÄni zaÅ¡krtÃ¡vaÅ¥ odpovede!';
            else if (percentage < 30) scoreMessage.textContent = 'ğŸ“š Junior level - eÅ¡te sa treba uÄiÅ¥ zÃ¡klady...';
            else if (percentage < 50) scoreMessage.textContent = 'ğŸ’ª Junior/Medior - dobrÃ½ zÃ¡klad, pokraÄuj!';
            else if (percentage < 70) scoreMessage.textContent = 'ğŸ‘ Medior level - veÄ¾mi dobre, solidnÃ© znalosti!';
            else if (percentage < 85) scoreMessage.textContent = 'ğŸ”¥ Medior/Senior - excelentnÃ©! Skoro tam!';
            else if (percentage < 100) scoreMessage.textContent = 'ğŸš€ Senior level - vÃ½borne! Takmer perfektnÃ©!';
            else scoreMessage.textContent = 'ğŸ‰ Senior+ level - PerfektnÃ©! VÅ¡etko sprÃ¡vne!';
        }

        function resetAll() {
            if (!confirm('Naozaj chceÅ¡ resetovaÅ¥ vÅ¡etky odpovede?')) return;
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
                checkbox.closest('.answer-item').classList.remove('checked');
            });
            document.querySelectorAll('.score-value').forEach(scoreValue => {
                scoreValue.textContent = '0';
            });
            updateTotalScore();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.querySelectorAll('.answer-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.tagName !== 'INPUT') {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    checkbox.dispatchEvent(new Event('change'));
                }
            });
        });

        window.addEventListener('load', () => { updateTotalScore(); });

        async function generateReport() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const experience = document.getElementById('experience').value;
            if (!firstName || !lastName || !experience) {
                alert('ProsÃ­m vyplÅˆte vÅ¡etky povinnÃ© polia!');
                return;
            }
            let totalChecked = 0, easyChecked = 0, mediumChecked = 0, hardChecked = 0;
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                if (checkbox.checked) {
                    totalChecked++;
                    const difficulty = checkbox.getAttribute('data-difficulty');
                    if (difficulty === 'easy') easyChecked++;
                    else if (difficulty === 'medium') mediumChecked++;
                    else if (difficulty === 'hard') hardChecked++;
                }
            });
            const percentage = Math.round((totalChecked / totalPoints) * 100);
            try {
                const { collection, addDoc } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
                const candidateData = {
                    name: `${firstName} ${lastName}`,
                    firstName: firstName,
                    lastName: lastName,
                    position: "React & Node.js Engineer",
                    experience: experience,
                    date: new Date().toISOString(),
                    timestamp: Date.now(),
                    score: percentage,
                    totalPoints: totalChecked,
                    easyScore: easyChecked,
                    mediumScore: mediumChecked,
                    hardScore: hardChecked,
                    maxPoints: totalPoints
                };
                const docRef = await addDoc(collection(window.firestoreDb, "candidates"), candidateData);
                console.log('âœ… KandidÃ¡t uloÅ¾enÃ½ s ID:', docRef.id);
                alert('âœ… Interview vÃ½sledky boli ÃºspeÅ¡ne uloÅ¾enÃ© do databÃ¡zy!');
            } catch (error) {
                console.error("âŒ Chyba pri ukladanÃ­ do Firestore:", error);
                alert('âš ï¸ Chyba pri ukladanÃ­: ' + error.message);
            }
            const experienceLabels = {
                '0-1': '0-1 rok (Junior)', '1-3': '1-3 roky (Junior/Medior)',
                '3-5': '3-5 rokov (Medior)', '5-8': '5-8 rokov (Senior)', '8+': '8+ rokov (Senior+)'
            };
            const reportText = `
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        REACT & NODE.JS ENGINEER - INTERVIEW REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

KandidÃ¡t: ${firstName} ${lastName}
Seniorita: ${experienceLabels[experience]}
DÃ¡tum: ${new Date().toLocaleDateString('sk-SK')}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    CELKOVÃ‰ SKÃ“RE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CelkovÃ© skÃ³re: ${percentage}% (${totalChecked}/${totalPoints} bodov)

Rozdelenie podÄ¾a obtiaÅ¾nosti:
  ğŸŸ¢ Ä½ahkÃ©:   ${easyChecked}/12 bodov
  ğŸŸ¡ StrednÃ©: ${mediumChecked}/20 bodov
  ğŸ”´ Å¤aÅ¾kÃ©:   ${hardChecked}/18 bodov

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                      HODNOTENIE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

${getEvaluationText(percentage)}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`;
            document.getElementById('reportContent').textContent = reportText;
            document.getElementById('reportSection').style.display = 'block';
            document.getElementById('reportSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function getEvaluationText(percentage) {
            if (percentage === 0) return 'KandidÃ¡t nevyplnil Å¾iadne odpovede.';
            else if (percentage < 30) return 'Junior level - KandidÃ¡t mÃ¡ zÃ¡kladnÃ© povedomie, ale\npotrebuje vÃ½raznÃ© zlepÅ¡enie v React a Node.js.';
            else if (percentage < 50) return 'Junior/Medior level - DobrÃ½ zÃ¡klad, potrebuje\nviac praktickÃ½ch skÃºsenostÃ­ s frameworkami.';
            else if (percentage < 70) return 'Medior level - SolÃ­dne znalosti React a Node.js.\nOdporÃºÄame na pozÃ­ciu Medior Full Stack Developer.';
            else if (percentage < 85) return 'Medior/Senior level - ExcelentnÃ© znalosti!\nHÄºbkovÃ© porozumenie React, hooks a Node.js.\nOdporÃºÄame na pozÃ­ciu Senior Full Stack Developer.';
            else if (percentage < 100) return 'Senior level - VÃ½bornÃ©! PokroÄilÃ© znalosti\noptimalizÃ¡cie, real-time komunikÃ¡cie. SilnÃ½ kandidÃ¡t.';
            else return 'Senior+ level - PerfektnÃ©! ExpertnÃ© znalosti\nReact, Node.js, performance optimization.\nOdporÃºÄame na Senior/Lead pozÃ­ciu.';
        }

        function downloadPDF() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const experience = document.getElementById('experience').value;
            let totalChecked = 0, easyChecked = 0, mediumChecked = 0, hardChecked = 0;
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                if (checkbox.checked) {
                    totalChecked++;
                    const difficulty = checkbox.getAttribute('data-difficulty');
                    if (difficulty === 'easy') easyChecked++;
                    else if (difficulty === 'medium') mediumChecked++;
                    else if (difficulty === 'hard') hardChecked++;
                }
            });
            const percentage = Math.round((totalChecked / totalPoints) * 100);
            const experienceLabels = {
                '0-1': '0-1 year (Junior)', '1-3': '1-3 years (Junior/Medior)',
                '3-5': '3-5 years (Medior)', '5-8': '5-8 years (Senior)', '8+': '8+ years (Senior+)'
            };
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const pageWidth = doc.internal.pageSize.getWidth();
            const margin = 20;
            let yPosition = 20;
            doc.setFillColor(97, 218, 251);
            doc.rect(0, 0, pageWidth, 40, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(20);
            doc.setFont(undefined, 'bold');
            doc.text('REACT & NODE.JS ENGINEER', pageWidth / 2, 15, { align: 'center' });
            doc.setFontSize(14);
            doc.text('Interview Report', pageWidth / 2, 25, { align: 'center' });
            yPosition = 50;
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(16);
            doc.setFont(undefined, 'bold');
            doc.text('Candidate Information', margin, yPosition);
            yPosition += 10;
            doc.setFontSize(11);
            doc.setFont(undefined, 'normal');
            doc.text(`Name: ${firstName} ${lastName}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Seniority Level: ${experienceLabels[experience]}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Date: ${new Date().toLocaleDateString('en-US')}`, margin, yPosition);
            yPosition += 15;
            doc.setDrawColor(200, 200, 200);
            doc.line(margin, yPosition, pageWidth - margin, yPosition);
            yPosition += 10;
            doc.setFillColor(97, 218, 251);
            doc.rect(margin, yPosition, pageWidth - 2 * margin, 30, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(14);
            doc.setFont(undefined, 'bold');
            doc.text('TOTAL SCORE', pageWidth / 2, yPosition + 10, { align: 'center' });
            doc.setFontSize(24);
            doc.text(`${percentage}%`, pageWidth / 2, yPosition + 23, { align: 'center' });
            yPosition += 40;
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);
            doc.setFont(undefined, 'bold');
            doc.text('Score Breakdown:', margin, yPosition);
            yPosition += 10;
            doc.setFont(undefined, 'normal');
            doc.setFontSize(11);
            doc.setFillColor(76, 175, 80);
            doc.circle(margin + 3, yPosition - 2, 2, 'F');
            doc.text(`Easy:`, margin + 8, yPosition);
            doc.setFont(undefined, 'bold');
            doc.text(`${easyChecked}/12 points`, margin + 30, yPosition);
            yPosition += 7;
            doc.setFont(undefined, 'normal');
            doc.setFillColor(255, 152, 0);
            doc.circle(margin + 3, yPosition - 2, 2, 'F');
            doc.text(`Medium:`, margin + 8, yPosition);
            doc.setFont(undefined, 'bold');
            doc.text(`${mediumChecked}/20 points`, margin + 30, yPosition);
            yPosition += 7;
            doc.setFont(undefined, 'normal');
            doc.setFillColor(244, 67, 54);
            doc.circle(margin + 3, yPosition - 2, 2, 'F');
            doc.text(`Hard:`, margin + 8, yPosition);
            doc.setFont(undefined, 'bold');
            doc.text(`${hardChecked}/18 points`, margin + 30, yPosition);
            yPosition += 15;
            doc.setDrawColor(200, 200, 200);
            doc.line(margin, yPosition, pageWidth - margin, yPosition);
            yPosition += 10;
            doc.setFontSize(12);
            doc.setFont(undefined, 'bold');
            doc.text('EVALUATION', margin, yPosition);
            yPosition += 8;
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            const evaluationText = getEvaluationText(percentage);
            const splitText = doc.splitTextToSize(evaluationText, pageWidth - 2 * margin);
            doc.text(splitText, margin, yPosition);
            yPosition = doc.internal.pageSize.getHeight() - 15;
            doc.setFontSize(8);
            doc.setTextColor(150, 150, 150);
            doc.text('Generated by React & Node.js Interview System', pageWidth / 2, yPosition, { align: 'center' });
            const fileName = `React_Node_Interview_${firstName}_${lastName}_${new Date().toISOString().split('T')[0]}.pdf`;
            doc.save(fileName);
        }
    </script>
</body>
</html>